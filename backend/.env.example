# =============================================================================
# Economic Dashboard API - Environment Variables
# =============================================================================
#
# This file contains PRODUCTION-SAFE defaults.
# Copy this file to .env for local development and update values as needed.
#
# IMPORTANT FOR PRODUCTION:
# - Never commit .env file to git (already in .gitignore)
# - Set these variables in Railway's environment variables UI
# - Ensure ENVIRONMENT=production in Railway
# - Never use localhost in CORS_ORIGINS for production
# =============================================================================

# -----------------------------------------------------------------------------
# Environment Configuration
# -----------------------------------------------------------------------------
# IMPORTANT: Must be "production" in Railway deployment
ENVIRONMENT=production

# Debug mode - MUST be False in production (or omit to use default)
# Exposes detailed error messages and enables development-only features
DEBUG=false

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL connection string with asyncpg driver
# Format: postgresql+asyncpg://user:password@host:port/database
#
# Railway auto-provides: DATABASE_URL
# Local development example:
# DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/economic_dashboard
DATABASE_URL=postgresql+asyncpg://user:password@host:port/database

# Database connection pool settings (only used when ENVIRONMENT=production)
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_ECHO=false

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# Redis connection string
# Format: redis://host:port/db or rediss://host:port/db (TLS)
#
# Railway auto-provides: REDIS_URL
# Local development example:
# REDIS_URL=redis://localhost:6379/0
REDIS_URL=redis://host:port/0

# Redis connection pool and cache settings
REDIS_MAX_CONNECTIONS=10
REDIS_CACHE_TTL=3600

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# Secret key for JWT token generation
# CRITICAL: Generate a strong random key for production
# Example command: python -c "import secrets; print(secrets.token_urlsafe(32))"
# MUST be at least 32 characters
SECRET_KEY=CHANGE_ME_GENERATE_A_STRONG_32_PLUS_CHARACTER_SECRET_KEY_HERE

# JWT settings
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Allowed CORS origins (comma-separated)
# CRITICAL FOR PRODUCTION:
# - Remove ALL localhost entries
# - Add your production frontend domain(s)
# - Use HTTPS URLs in production
#
# Production example:
# CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
#
# Local development:
# CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

CORS_ALLOW_CREDENTIALS=true

# -----------------------------------------------------------------------------
# FRED API Configuration
# -----------------------------------------------------------------------------
# FRED API key from https://fred.stlouisfed.org/
# Required: Sign up for a free API key
FRED_API_KEY=your_fred_api_key_32_characters_hex

# FRED API settings (usually don't need to change)
FRED_API_BASE_URL=https://api.stlouisfed.org/fred
FRED_API_TIMEOUT=30
FRED_RATE_LIMIT_PER_MINUTE=120

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Recommended for production: INFO or WARNING (not DEBUG)
LOG_LEVEL=INFO

# Log format (default is fine for most cases)
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# -----------------------------------------------------------------------------
# Server Configuration (usually managed by Railway/Docker)
# -----------------------------------------------------------------------------
HOST=0.0.0.0
PORT=8000

# =============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# =============================================================================
#
# Before deploying to Railway, ensure:
#
# ✅ ENVIRONMENT=production
# ✅ DEBUG=false (or removed)
# ✅ DATABASE_URL uses Railway's PostgreSQL URL
# ✅ REDIS_URL uses Railway's Redis URL
# ✅ SECRET_KEY is a strong, randomly generated 32+ character string
# ✅ FRED_API_KEY is your valid FRED API key
# ✅ CORS_ORIGINS contains ONLY production domains (NO localhost!)
# ✅ LOG_LEVEL=INFO or WARNING (not DEBUG)
#
# =============================================================================
